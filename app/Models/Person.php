<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;


//tablename = people
//foreign key: people_id
class Person extends Model
{
    protected $fillable = [
        'user_id',
        'workplace',
        'remote',
        'workdays',
        'saturday',
        'sunday',
        'bank_holidays',
        'sat_sun_bh_only',
        'normal_hours',
        'nightshift',
        'nightshift_only',
        'other_shift',
        'other_shift_only',
        'overtime',
        'my_bool'
    ];

    /*** relationships */

    /* A person belongs to one user     */
    public function user()
    {
        return $this->belongsTo(User::class);
    }

    /* A person has many properties     */
    public function properties()
    {
        return $this->hasMany(Property::class);
    }


    //*** functions */
    public static function getPersonByUserId($userId)
    {
        $person = Person::where('user_id', $userId)->first();
        return $person;
    }

    public static function getPersonById($id)
    {
       return Person::where('id', $id)->first();
    }
}
